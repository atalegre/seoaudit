
<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SEOAudit - Análise de otimização para motores de busca e IA</title>
    <meta name="description" content="Analise gratuitamente o seu site para motores de busca (SEO) e modelos de IA (AIO). Descubra como melhorar a sua presença digital." />
    
    <!-- Preload crítico -->
    <link rel="preload" href="/src/main.tsx" as="script" fetchpriority="high" />
    
    <!-- Estilos críticos inline -->
    <style>
      :root {
        --background: 0 0% 100%;
        --foreground: 222.2 84% 4.9%;
        --primary: 222.2 47.4% 11.2%;
      }
      body {
        margin: 0;
        padding: 0;
        background-color: white;
        color: #111827;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }
      .hero-title {
        font-size: 2rem;
        line-height: 1.2;
        font-weight: 700;
        margin-bottom: 1rem;
      }
      .hero-description {
        font-size: 1rem;
        margin-bottom: 1.5rem;
        color: #666;
      }
      .hero-container {
        max-width: 64rem;
        margin-left: auto;
        margin-right: auto;
        padding: 1rem;
        text-align: center;
      }
      .primary-button {
        display: inline-block;
        padding: 0.75rem 1.5rem;
        background-color: #1f2937;
        color: white;
        border-radius: 0.375rem;
        font-weight: 500;
        border: none;
        cursor: pointer;
      }
      input {
        border: 1px solid #d1d5db;
        padding: 0.75rem;
        border-radius: 0.375rem;
      }
    </style>
    
    <!-- Preconnects otimizados apenas para domínios críticos -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Carregar fonte após renderização inicial -->
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" 
    onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"></noscript>
    
    <!-- Metadata para compartilhamento social -->
    <meta property="og:title" content="SEOAudit - Análise SEO e AIO" />
    <meta property="og:description" content="Analise gratuitamente o seu site para motores de busca (SEO) e modelos de IA (AIO)." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
    
    <!-- Diferir radicalmente JavaScript não-crítico -->
    <script>
      const deferScripts = () => {
        // Atrasar carregamento de analytics por 5 segundos
        setTimeout(() => {
          const analyticsScript = document.createElement('script');
          analyticsScript.src = "https://www.googletagmanager.com/gtag/js?id=G-33EYX0JZM1";
          analyticsScript.async = true;
          document.body.appendChild(analyticsScript);
          
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-33EYX0JZM1', { 'send_page_view': false });
        }, 5000);
      };
      
      // Executar apenas após carregamento completo
      window.addEventListener('load', deferScripts);
    </script>
  </head>

  <body>
    <div id="root"></div>
    <!-- App principal carregado com prioridade alta -->
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- GTM carregado via JavaScript somente após renderização completa -->
    <script>
      window.addEventListener('load', function() {
        // Atraso muito maior para scripts não-críticos
        setTimeout(function() {
          // GTM script carregado dinamicamente
          const gtmScript = document.createElement('script');
          gtmScript.innerHTML = `
            (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
            })(window,document,'script','dataLayer','GTM-WHKJ76ZT');
          `;
          document.body.appendChild(gtmScript);
          
          // GTM noscript fallback adicionado manualmente
          const noscript = document.createElement('noscript');
          const iframe = document.createElement('iframe');
          iframe.src = "https://www.googletagmanager.com/ns.html?id=GTM-WHKJ76ZT";
          iframe.height = "0";
          iframe.width = "0";
          iframe.style = "display:none;visibility:hidden";
          noscript.appendChild(iframe);
          document.body.appendChild(noscript);
        }, 3000); // Aumentado para 3 segundos
      });
    </script>
    
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
  </body>
</html>
